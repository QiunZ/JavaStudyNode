#Mybatis初次学习总结
##一、 小概念
1. pojo：不按照MVC分层，是Javabean，有一些get/set属性
2. domain：同上
3. po：用在持久层。可以在增加或者修改的时候从页面中直接传入action，里面的javabean类名等于表名，类的属性名等于表的字段名，有对应的get、set方法
4. vo：view object。表现层对象。主要用于在高级查询中从页面接收传来的各种参数，可扩展性好。
##二、原JDBC缺点
1. 频繁创建释放资源
2. SQL语句硬编码
3. 参数硬编码
4. 结果集硬编码
##三、介绍
Mybatis是一个持久层框架，跟数据库交互完成增删改查
##四、原生Dao实现
需要接口和实现类
##五、动态代理方式
1. 只需要接口就可以
2. 编写规则:<br>
1). 映射文件的namespace要等于接口的全路径名称。<br>
2). 映射文件的sql语句中的id要等于接口的方法名称。<br>
3). 映射文件的SQL语句中的传入参数类型要等于接口方法的传入类型。<br>
4). 映射文件的SQL语句中的返回结果集类型要等于接口方法的返回值类型<br>
##六、占位符：#{}
占位作用。如果传入的是基本类型，#{}里面的名称随便写。如果传入的是pojo类型，则必须是pojo中的属性.属性.属性。
##七、拼接符：${}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
有拼接作用。如果传入的是基本类型，#{}里面的名称必须是value。如果传入的是pojo类型，则必须是pojo中的属性.属性.属性。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
注意：拼接符有sql注入的危险，可以在页面加上参数验证，不可为空之类的。
##八、映射文件
传入参数通过parameterType指定<br>
返回结果集类型通过resultType指定
##九、Hibernate和Mybatis区别
###Hibernate：<br>
1. 一个标准的orm框架，比较重量级，学习成本高。<br>
2. 优点：高度封装，不用写sql,可以降低开发周期，<br>
3. 缺点：sql语句无法优化
4. 应用场景：oa（办公自动化系统）、erp（企业流程系统）、政府项目。总的来说是一些用户量不大，并发量小的时候使用。<br>
###Mybatis:<br>
1. 不是一个orm框架，对jdbc的轻量级封装，学习成本低。<br>
2. 优点：学习成本低，SQL语句可以优化，执行效率高，速度快。<br>
3. 缺点：编码量较大，拖慢开发周期。
4. 应用场景：用户量多，并发量大。如互联网项目（电商、P2P）。
##十、输入映射
就是映射文件中可以传入那些类型：<br>
1. 基本类型<br>
2. pojo类型<br>
3. vo类型<br>
##十一、输出类型
返回的结果集可以有哪些类型：<br>
1. 基本类型<br>
2. pojo类型<br>
3. list类型<br>
##十二、动态sql
就是动态的拼接SQL语句：<br>
1. where：可以自动添加where关键字，还可以去掉第一个条件的and关键字<br>
2. if：判断传入的参数是否为空<br>
3. foreach：循环遍历传入的集合参数。<br>
4. sql：封装查询条件，以达到重用的目的
##十三、对单个对象的映射关系
1. 自动关联（偷懒的办法）:可以自定义一个大而全的pojo类，然后自动映射。其实是根据数据库的字段名称和类的属性名称对应。
2. 手动关联：需要自己指定数据库表的字段名称和pojo类中的属性名称的对应关系。通过使用association标签。
##十四、对集合对象的映射关系
只能使用手动映射指定表中字段名称和pojo类中属性名称的对应关系，通过使用collection标签。
##十五、spring和mybatis整合
整合后会话工厂都归spring管理。<br><br>
两种实现方式：<br>
原生Dao实现：<br>
1. 需要在spring配置文件中指定dao实现类。<br>
2. dao实现类需要继承SqlSessionDaoSupport超类。<br>
3. 在dao实现类中不要手动关闭会话，不要自己提交事务。<br><br>
Mapper接口代理实现：<br>
1. 在spring配置文件中可以使用包扫描的方式，一次性将所有mapper加载
##十六、逆向工程
自动生成pojo类、Mapper接口和映射文件<br>
注意：<br>
生成的方式是追加而不是覆盖，也就是说如果再次执行代码，结果不是覆盖原来生成的文件，而是重新生成了文件。但是，在包结构中看不出来，可以通过文件属性发现文件的大小增大。<br>
如果要重复生成，需要把原来的文件删掉。